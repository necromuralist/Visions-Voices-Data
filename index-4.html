<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="Adumbrations of data." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Visions, Voices, Data (old posts, page 4) | Visions, Voices, Data</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="rss.xml" hreflang="en" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/Visions-Voices-Data/index-4.html" rel="canonical">
<link href="index-5.html" rel="prev" type="text/html">
<link href="index-3.html" rel="next" type="text/html"><!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script><!--
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js"
</script>
-->
<script async src="javascript/p5.min.js" type="text/javascript"></script>
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="/"><span id="blog-title">Visions, Voices, Data</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="/archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="/categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="/rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Monkey Pages</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/">Cloistered Monkey</a> <a class="dropdown-item" href="https://necromuralist.github.io/Ape-Iron/">Ape Iron</a> <a class="dropdown-item" href="https://necromuralist.github.io/Beach-Pig-Thigh/">Beach Pig Rump & Thigh</a> <a class="dropdown-item" href="https://necromuralist.github.io/Bowling-For-Data/">Bowling For Data</a> <a class="dropdown-item" href="https://necromuralist.github.io/Give-The-Fish/">Give the Fish</a> <a class="dropdown-item" href="https://necromuralist.github.io/Neurotic-Networking/">Neurotic Networking</a> <a class="dropdown-item" href="https://necromuralist.github.io/Terribilis-Ludum/">Terribilis Ludum</a> <a class="dropdown-item" href="https://necromuralist.github.io/Visions-Voices-Data/">Visions, Voices, Data</a></div>
</li>
</ul>
<!-- DuckDuckGo custom search -->
<form action="https://duckduckgo.com/" class="navbar-form pull-left" id="search" method="get" name="search"><input name="sites" type="hidden" value="https://necromuralist.github.io/Visions-Voices-Data/"> <input name="k8" type="hidden" value="#444444"> <input name="k9" type="hidden" value="#D51920"> <input name="kt" type="hidden" value="h"> <input class="span2" maxlength="255" name="q" placeholder="Search…" type="text"> <input style="visibility: hidden;display:none" type="submit" value="DuckDuckGo Search"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<div class="postindex">
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="/posts/web-scraping/calling-a-json-api/">Calling a JSON API</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="/posts/web-scraping/calling-a-json-api/" rel="bookmark"><time class="published dt-published" datetime="2019-08-04T11:53:29-07:00" itemprop="datePublished" title="2019-08-04 11:53">2019-08-04 11:53</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="/posts/web-scraping/calling-a-json-api/#org88fc8bf">Beginning</a>
<ul>
<li><a href="/posts/web-scraping/calling-a-json-api/#orgf2c04c4">Imports</a>
<ul>
<li><a href="/posts/web-scraping/calling-a-json-api/#orga175b6a">Python</a></li>
<li><a href="/posts/web-scraping/calling-a-json-api/#org7fa365b">PyPi</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/calling-a-json-api/#orge1c4f29">Set Up</a>
<ul>
<li><a href="/posts/web-scraping/calling-a-json-api/#org5eae7e0">URL</a></li>
<li><a href="/posts/web-scraping/calling-a-json-api/#orgbc4cc63">Sample</a></li>
<li><a href="/posts/web-scraping/calling-a-json-api/#orgac6ccbd">Actual</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/posts/web-scraping/calling-a-json-api/#orgf5f336c">Middle</a>
<ul>
<li><a href="/posts/web-scraping/calling-a-json-api/#orgcb3d71e">The Sample</a></li>
<li><a href="/posts/web-scraping/calling-a-json-api/#org670dbfa">The Actual</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/calling-a-json-api/#org0058197">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org88fc8bf">
<h2 id="org88fc8bf">Beginning</h2>
<div class="outline-text-2" id="text-org88fc8bf"></div>
<div class="outline-3" id="outline-container-orgf2c04c4">
<h3 id="orgf2c04c4">Imports</h3>
<div class="outline-text-3" id="text-orgf2c04c4"></div>
<div class="outline-4" id="outline-container-orga175b6a">
<h4 id="orga175b6a">Python</h4>
<div class="outline-text-4" id="text-orga175b6a">
<div class="highlight">
<pre><span></span>from pprint import pprint
import json
import urllib
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-org7fa365b">
<h4 id="org7fa365b">PyPi</h4>
<div class="outline-text-4" id="text-org7fa365b">
<div class="highlight">
<pre><span></span>from expects import (
    equal,
    expect,
    start_with,
)
</pre></div>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-orge1c4f29">
<h3 id="orge1c4f29">Set Up</h3>
<div class="outline-text-3" id="text-orge1c4f29"></div>
<div class="outline-4" id="outline-container-org5eae7e0">
<h4 id="org5eae7e0">URL</h4>
<div class="outline-text-4" id="text-org5eae7e0">
<div class="highlight">
<pre><span></span>API_KEY = 42
API_URL = "http://py4e-data.dr-chuck.net/json?"
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgbc4cc63">
<h4 id="orgbc4cc63">Sample</h4>
<div class="outline-text-4" id="text-orgbc4cc63">
<div class="highlight">
<pre><span></span>SAMPLE_LOCATION = "South Federal University"
SAMPLE_PLACE_ID = "ChIJ9e_QQm0sDogRhUPatldEFxw"
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgac6ccbd">
<h4 id="orgac6ccbd">Actual</h4>
<div class="outline-text-4" id="text-orgac6ccbd">
<div class="highlight">
<pre><span></span>ACTUAL_LOCATION = "Kazan Federal University"
ACTUAL_PLACE_ID_STARTS_WITH = "ChIJGf9"
</pre></div>
</div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-orgf5f336c">
<h2 id="orgf5f336c">Middle</h2>
<div class="outline-text-2" id="text-orgf5f336c">
<div class="highlight">
<pre><span></span>def get_place_id(location: str) -&gt; str:
    """Get the place ID for the location

    Args:
     location: place to look up

    Returns:
     the place ID for the location
    """
    parameters = {"address": location, "key": API_KEY}
    request = API_URL + urllib.parse.urlencode(parameters)

    with urllib.request.urlopen(request) as response:
        data = json.loads(response.read().decode())
        results = data["results"][0]
        expect(data["status"]).to(equal("OK"))
        place_id = results["place_id"]
        print(f"Location: {location}")
        print(f"Place ID: {place_id}")
    return place_id
</pre></div>
</div>
<div class="outline-3" id="outline-container-orgcb3d71e">
<h3 id="orgcb3d71e">The Sample</h3>
<div class="outline-text-3" id="text-orgcb3d71e">
<div class="highlight">
<pre><span></span>place_id = get_place_id(SAMPLE_LOCATION)
expect(SAMPLE_PLACE_ID).to(equal(place_id))
</pre></div>
<pre class="example">
Location: South Federal University
Place ID: ChIJ9e_QQm0sDogRhUPatldEFxw
</pre></div>
</div>
<div class="outline-3" id="outline-container-org670dbfa">
<h3 id="org670dbfa">The Actual</h3>
<div class="outline-text-3" id="text-org670dbfa">
<div class="highlight">
<pre><span></span>place_id = get_place_id(ACTUAL_LOCATION)
expect(place_id).to(start_with(ACTUAL_PLACE_ID_STARTS_WITH))
</pre></div>
<pre class="example">
Location: Kazan Federal University
Place ID: ChIJGf9kMxGtXkERIzwzBzFo8kY
</pre></div>
</div>
</div>
<div class="outline-2" id="outline-container-org0058197">
<h2 id="org0058197">End</h2>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="/posts/web-scraping/extracting-data-from-json/">Extracting Data From JSON</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="/posts/web-scraping/extracting-data-from-json/" rel="bookmark"><time class="published dt-published" datetime="2019-08-04T11:22:51-07:00" itemprop="datePublished" title="2019-08-04 11:22">2019-08-04 11:22</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-json/#org46caa6e">Beginning</a>
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-json/#org9a555c1">Imports</a>
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-json/#org5e88a18">Python</a></li>
<li><a href="/posts/web-scraping/extracting-data-from-json/#orgab4c7ad">PyPi</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/extracting-data-from-json/#org749c27e">Set Up</a>
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-json/#org49ae5ab">The URLs</a></li>
<li><a href="/posts/web-scraping/extracting-data-from-json/#orgb8da82a">The Expected</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/posts/web-scraping/extracting-data-from-json/#org6b73f7e">Middle</a>
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-json/#orgc80be3c">The Sample</a></li>
<li><a href="/posts/web-scraping/extracting-data-from-json/#org7eda045">The Assignment</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/extracting-data-from-json/#org9d444a3">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org46caa6e">
<h2 id="org46caa6e">Beginning</h2>
<div class="outline-text-2" id="text-org46caa6e"></div>
<div class="outline-3" id="outline-container-org9a555c1">
<h3 id="org9a555c1">Imports</h3>
<div class="outline-text-3" id="text-org9a555c1"></div>
<div class="outline-4" id="outline-container-org5e88a18">
<h4 id="org5e88a18">Python</h4>
<div class="outline-text-4" id="text-org5e88a18">
<div class="highlight">
<pre><span></span>import json
import urllib
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgab4c7ad">
<h4 id="orgab4c7ad">PyPi</h4>
<div class="outline-text-4" id="text-orgab4c7ad">
<div class="highlight">
<pre><span></span>from expects import expect, equal
</pre></div>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-org749c27e">
<h3 id="org749c27e">Set Up</h3>
<div class="outline-text-3" id="text-org749c27e"></div>
<div class="outline-4" id="outline-container-org49ae5ab">
<h4 id="org49ae5ab">The URLs</h4>
<div class="outline-text-4" id="text-org49ae5ab">
<div class="highlight">
<pre><span></span>SAMPLE_URL = "http://py4e-data.dr-chuck.net/comments_42.json"
ACTUAL_URL = "http://py4e-data.dr-chuck.net/comments_260445.json"
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgb8da82a">
<h4 id="orgb8da82a">The Expected</h4>
<div class="outline-text-4" id="text-orgb8da82a">
<div class="highlight">
<pre><span></span>SAMPLE_EXPECTED = 2553
ACTUAL_EXPECTED_LAST_TWO_DIGITS = 94
</pre></div>
</div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org6b73f7e">
<h2 id="org6b73f7e">Middle</h2>
<div class="outline-text-2" id="text-org6b73f7e">
<p>We're going to pull a JSON blob and extract the "count" values and sum them. The data is structured with a single top-level key ("comments") which holds a list of dicts with "name" (name of the commenter) and "count" (the number of comments the commenter has made) values.</p>
<div class="highlight">
<pre><span></span>def count(url: str) -&gt; int:
    """Totals the comment counts

    Args:
     url: source of the JSON

    Returns:
     the total of the comment counts
    """
    response = urllib.request.urlopen(url)
    data = json.loads(response.read())
    total = 0
    for index, commenter in enumerate(data["comments"]):
        total += int(commenter["count"])

    print(f"Comments: {index + 1}")
    print(f"Comments: {total: ,}")
    return total
</pre></div>
</div>
<div class="outline-3" id="outline-container-orgc80be3c">
<h3 id="orgc80be3c">The Sample</h3>
<div class="outline-text-3" id="text-orgc80be3c">
<div class="highlight">
<pre><span></span>total = count(SAMPLE_URL)
expect(total).to(equal(SAMPLE_EXPECTED))
</pre></div>
<pre class="example">
Comments: 50
Comments:  2,553
</pre></div>
</div>
<div class="outline-3" id="outline-container-org7eda045">
<h3 id="org7eda045">The Assignment</h3>
<div class="outline-text-3" id="text-org7eda045">
<div class="highlight">
<pre><span></span>total = count(ACTUAL_URL)
expect(int(str(total)[-2:])).to(equal(ACTUAL_EXPECTED_LAST_TWO_DIGITS))
</pre></div>
<pre class="example">
Comments: 50
Comments:  2,594
</pre></div>
</div>
</div>
<div class="outline-2" id="outline-container-org9d444a3">
<h2 id="org9d444a3">End</h2>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="/posts/web-scraping/extracting-data-from-xml/">Extracting Data From XML</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="/posts/web-scraping/extracting-data-from-xml/" rel="bookmark"><time class="published dt-published" datetime="2019-08-03T16:24:05-07:00" itemprop="datePublished" title="2019-08-03 16:24">2019-08-03 16:24</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#orgb686926">Beginning</a>
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#orgaf0fdfa">Imports</a>
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#org946d459">Python</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#org3ae264f">Set Up</a>
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#orgf09ae5c">The URLS</a></li>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#org840ed21">The Expected</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#org43da1d8">Middle</a>
<ul>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#org70822ef">Sample</a></li>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#org5b5ee84">The Assignment</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/extracting-data-from-xml/#orgb01c761">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orgb686926">
<h2 id="orgb686926">Beginning</h2>
<div class="outline-text-2" id="text-orgb686926"></div>
<div class="outline-3" id="outline-container-orgaf0fdfa">
<h3 id="orgaf0fdfa">Imports</h3>
<div class="outline-text-3" id="text-orgaf0fdfa"></div>
<div class="outline-4" id="outline-container-org946d459">
<h4 id="org946d459">Python</h4>
<div class="outline-text-4" id="text-org946d459">
<div class="highlight">
<pre><span></span>from xml.etree import ElementTree
import urllib
</pre></div>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-org3ae264f">
<h3 id="org3ae264f">Set Up</h3>
<div class="outline-text-3" id="text-org3ae264f"></div>
<div class="outline-4" id="outline-container-orgf09ae5c">
<h4 id="orgf09ae5c">The URLS</h4>
<div class="outline-text-4" id="text-orgf09ae5c">
<div class="highlight">
<pre><span></span>SAMPLE_URL = "http://py4e-data.dr-chuck.net/comments_42.xml"
ACTUAL_URL = "http://py4e-data.dr-chuck.net/comments_260444.xml"
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-org840ed21">
<h4 id="org840ed21">The Expected</h4>
<div class="outline-text-4" id="text-org840ed21">
<div class="highlight">
<pre><span></span>SAMPLE_EXPECTED = 2553
ACTUAL_EXPECTED_LAST_TWO_DIGITS = 34
</pre></div>
</div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org43da1d8">
<h2 id="org43da1d8">Middle</h2>
<div class="outline-text-2" id="text-org43da1d8">
<div class="highlight">
<pre><span></span>def get_counts(url: str) -&gt; int:
    """Get the sum of the 'count' tags 

    Args:
     url: URL to get the XML from

    Returns:
     sum of the count tags payloads
    """
    response = urllib.request.urlopen(url)
    tree = ElementTree.fromstring(response.read())
    total = 0
    for index, count in enumerate(tree.findall(".//count")):
        total += int(count.text)

    print(f"Tags: {index + 1}")
    print(f"Sum of Counts: {total}")
    return total
</pre></div>
</div>
<div class="outline-3" id="outline-container-org70822ef">
<h3 id="org70822ef">Sample</h3>
<div class="outline-text-3" id="text-org70822ef">
<div class="highlight">
<pre><span></span>total = get_counts(SAMPLE_URL)
assert total == SAMPLE_EXPECTED
</pre></div>
<pre class="example">
Tags: 50
Sum of Counts: 2553
</pre></div>
</div>
<div class="outline-3" id="outline-container-org5b5ee84">
<h3 id="org5b5ee84">The Assignment</h3>
<div class="outline-text-3" id="text-org5b5ee84">
<div class="highlight">
<pre><span></span>total =get_counts(ACTUAL_URL)
assert int(str(total)[-2:]) == ACTUAL_EXPECTED_LAST_TWO_DIGITS
</pre></div>
<pre class="example">
Tags: 50
Sum of Counts: 2634
</pre></div>
</div>
</div>
<div class="outline-2" id="outline-container-orgb01c761">
<h2 id="orgb01c761">End</h2>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="/posts/web-scraping/web-scraping-assignment-1/">Web Scraping Assignment 1</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="/posts/web-scraping/web-scraping-assignment-1/" rel="bookmark"><time class="published dt-published" datetime="2019-08-03T12:07:56-07:00" itemprop="datePublished" title="2019-08-03 12:07">2019-08-03 12:07</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org3c5f65d">Beginning</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org7b038bb">Imports</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org129fe83">Python</a></li>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#orgc654478">PyPi</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org8f204ae">Setup</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#orgcc04b4a">The URLs</a></li>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org1eb0aa3">The Expected</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org9c217ec">Middle</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#orgdf92d4f">The Sample</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#orgb47042f">The Way I Would Do It</a></li>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org3150a9c">The Assignment Way</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org6bcf28c">The Assignment</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org23416fd">Requests HTML</a></li>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#org0781110">Urllib</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/posts/web-scraping/web-scraping-assignment-1/#orgd2cc91f">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org3c5f65d">
<h2 id="org3c5f65d">Beginning</h2>
<div class="outline-text-2" id="text-org3c5f65d">
<p>The goal of this exercise is to find all the <code>&lt;span&gt;</code> tags on a page and sum the numbers they contain.</p>
</div>
<div class="outline-3" id="outline-container-org7b038bb">
<h3 id="org7b038bb">Imports</h3>
<div class="outline-text-3" id="text-org7b038bb"></div>
<div class="outline-4" id="outline-container-org129fe83">
<h4 id="org129fe83">Python</h4>
<div class="outline-text-4" id="text-org129fe83">
<div class="highlight">
<pre><span></span><span class="kn">import</span> <span class="nn">urllib</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgc654478">
<h4 id="orgc654478">PyPi</h4>
<div class="outline-text-4" id="text-orgc654478">
<div class="highlight">
<pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">expects</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">equal</span><span class="p">,</span>
    <span class="n">expect</span><span class="p">,</span>
    <span class="n">be_true</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">requests_html</span> <span class="kn">import</span> <span class="n">HTMLSession</span>
</pre></div>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-org8f204ae">
<h3 id="org8f204ae">Setup</h3>
<div class="outline-text-3" id="text-org8f204ae"></div>
<div class="outline-4" id="outline-container-orgcc04b4a">
<h4 id="orgcc04b4a">The URLs</h4>
<div class="outline-text-4" id="text-orgcc04b4a">
<div class="highlight">
<pre><span></span><span class="n">SAMPLE_URL</span> <span class="o">=</span> <span class="s2">" http://py4e-data.dr-chuck.net/comments_42.html"</span>
<span class="n">ACTUAL_URL</span> <span class="o">=</span> <span class="s2">"http://py4e-data.dr-chuck.net/comments_260442.html"</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-org1eb0aa3">
<h4 id="org1eb0aa3">The Expected</h4>
<div class="outline-text-4" id="text-org1eb0aa3">
<div class="highlight">
<pre><span></span><span class="n">SAMPLE_EXPECTED</span> <span class="o">=</span> <span class="mi">2553</span>
<span class="n">ACTUAL_EXPECTED_LAST_DIGIT</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org9c217ec">
<h2 id="org9c217ec">Middle</h2>
<div class="outline-text-2" id="text-org9c217ec"></div>
<div class="outline-3" id="outline-container-orgdf92d4f">
<h3 id="orgdf92d4f">The Sample</h3>
<div class="outline-text-3" id="text-orgdf92d4f"></div>
<div class="outline-4" id="outline-container-orgb47042f">
<h4 id="orgb47042f">The Way I Would Do It</h4>
<div class="outline-text-4" id="text-orgb47042f">
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">using_requests</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""get the span total</span>

<span class="sd">    Args:</span>
<span class="sd">     url: The URL for the page</span>

<span class="sd">    Returns:</span>
<span class="sd">     the total sum</span>
<span class="sd">    """</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">HTMLSession</span><span class="p">()</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">be_true</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">span</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"span"</span><span class="p">)):</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">span</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Count: </span><span class="si">{</span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Sum: </span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">total</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">total</span> <span class="o">=</span> <span class="n">using_requests</span><span class="p">(</span><span class="n">SAMPLE_URL</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">total</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">equal</span><span class="p">(</span><span class="n">SAMPLE_EXPECTED</span><span class="p">))</span>
</pre></div>
<pre class="example">
Count: 50
Sum: 2553
</pre></div>
</div>
<div class="outline-4" id="outline-container-org3150a9c">
<h4 id="org3150a9c">The Assignment Way</h4>
<div class="outline-text-4" id="text-org3150a9c">
<p>For this kind of thing, using urllib isn't really much more work, I'm used to the older python 2 version which (maybe only seemed at the time) was more complicated to use.</p>
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">using_urllib</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""get the span total with urllib and beautiful soup</span>

<span class="sd">    Args:</span>
<span class="sd">     url: the URL for the page</span>

<span class="sd">    Returns:</span>
<span class="sd">     the total of the span contents</span>
<span class="sd">    """</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="s2">"html.parser"</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">span</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"span"</span><span class="p">)):</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">span</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Count: </span><span class="si">{</span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Sum: </span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">total</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">total</span> <span class="o">=</span> <span class="n">using_urllib</span><span class="p">(</span><span class="n">SAMPLE_URL</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">total</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">equal</span><span class="p">(</span><span class="n">SAMPLE_EXPECTED</span><span class="p">))</span>
</pre></div>
<pre class="example">
Count: 50
Sum: 2553
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-org6bcf28c">
<h3 id="org6bcf28c">The Assignment</h3>
<div class="outline-text-3" id="text-org6bcf28c"></div>
<div class="outline-4" id="outline-container-org23416fd">
<h4 id="org23416fd">Requests HTML</h4>
<div class="outline-text-4" id="text-org23416fd">
<div class="highlight">
<pre><span></span><span class="n">total</span> <span class="o">=</span> <span class="n">using_requests</span><span class="p">(</span><span class="n">ACTUAL_URL</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">total</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">equal</span><span class="p">(</span><span class="n">ACTUAL_EXPECTED_LAST_DIGIT</span><span class="p">))</span>
</pre></div>
<pre class="example">
Count: 50
Sum: 2305
</pre></div>
</div>
<div class="outline-4" id="outline-container-org0781110">
<h4 id="org0781110">Urllib</h4>
<div class="outline-text-4" id="text-org0781110">
<div class="highlight">
<pre><span></span><span class="n">total</span> <span class="o">=</span> <span class="n">using_urllib</span><span class="p">(</span><span class="n">ACTUAL_URL</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">total</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">equal</span><span class="p">(</span><span class="n">ACTUAL_EXPECTED_LAST_DIGIT</span><span class="p">))</span>
</pre></div>
<pre class="example">
Count: 50
Sum: 2305
</pre></div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-orgd2cc91f">
<h2 id="orgd2cc91f">End</h2>
<div class="outline-text-2" id="text-orgd2cc91f">
<p>Although I normally use <code>requests</code> or <code>requests-html</code>, I must say that the <code>urllib</code> version with <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup</a> for this particular exercise wasn't much different.</p>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="/posts/web-scraping/web-scraping-assignment-2/">Web Scraping Assignment 2</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="/posts/web-scraping/web-scraping-assignment-2/" rel="bookmark"><time class="published dt-published" datetime="2019-08-02T13:43:01-07:00" itemprop="datePublished" title="2019-08-02 13:43">2019-08-02 13:43</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#orga0f96b4">Beginning</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org8ccbc07">Imports</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org6a0724e">Python</a></li>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#orgec7306c">PyPi</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#orgc113aa5">Setup</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org99a4cf7">The URL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org6d8b736">Middle</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org321c762">The Sample Exercise</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org4e57e6f">The Easy Way</a></li>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org124f455">The Slightly Less Easy Way</a></li>
</ul>
</li>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#orgd426b6b">The Real One</a>
<ul>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#orge20a9a6">The Easy Way</a></li>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org4a0338a">The Assignment Way</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/posts/web-scraping/web-scraping-assignment-2/#org763bebf">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orga0f96b4">
<h2 id="orga0f96b4">Beginning</h2>
<div class="outline-text-2" id="text-orga0f96b4">
<p>The goal of this exercise is to crawl through a set of anchor links to get a particular name stored in the <i>nth</i> anchor tag. The assignment specifically says to use <a href="https://docs.python.org/3/library/urllib.html">urllib</a> but, if you go to the documentation for <a href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request">urllib.request</a> it tells you to use to use <a href="https://2.python-requests.org/en/master/">requests</a>, which, if you go to its documentation says that it's in maintenance mode while work is being done on <a href="https://3.python-requests.org/">Requests III</a>… anyway, I like using <a href="https://html.python-requests.org/">Requests-HTML</a> so I'll use that and urllib side-by-side.</p>
</div>
<div class="outline-3" id="outline-container-org8ccbc07">
<h3 id="org8ccbc07">Imports</h3>
<div class="outline-text-3" id="text-org8ccbc07"></div>
<div class="outline-4" id="outline-container-org6a0724e">
<h4 id="org6a0724e">Python</h4>
<div class="outline-text-4" id="text-org6a0724e">
<div class="highlight">
<pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">urllib</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgec7306c">
<h4 id="orgec7306c">PyPi</h4>
<div class="outline-text-4" id="text-orgec7306c">
<div class="highlight">
<pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">requests_html</span> <span class="kn">import</span> <span class="n">HTMLSession</span>
</pre></div>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-orgc113aa5">
<h3 id="orgc113aa5">Setup</h3>
<div class="outline-text-3" id="text-orgc113aa5"></div>
<div class="outline-4" id="outline-container-org99a4cf7">
<h4 id="org99a4cf7">The URL</h4>
<div class="outline-text-4" id="text-org99a4cf7">
<div class="highlight">
<pre><span></span><span class="n">BASE_URL</span> <span class="o">=</span> <span class="s2">"http://py4e-data.dr-chuck.net/known_by_"</span>
<span class="n">SAMPLE_URL</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">Fikret.html"</span>
<span class="n">ASSIGNMENT_URL</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">Abdalroof.html"</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org6d8b736">
<h2 id="org6d8b736">Middle</h2>
<div class="outline-text-2" id="text-org6d8b736"></div>
<div class="outline-3" id="outline-container-org321c762">
<h3 id="org321c762">The Sample Exercise</h3>
<div class="outline-text-3" id="text-org321c762"></div>
<div class="outline-4" id="outline-container-org4e57e6f">
<h4 id="org4e57e6f">The Easy Way</h4>
<div class="outline-text-4" id="text-org4e57e6f">
<div class="highlight">
<pre><span></span><span class="n">session</span> <span class="o">=</span> <span class="n">HTMLSession</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SAMPLE_URL</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span>

<span class="n">expression</span> <span class="o">=</span> <span class="s2">"_(?P&lt;name&gt;[^_.]+).html"</span>
<span class="n">expression</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Name: </span><span class="si">{</span><span class="n">expression</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">SAMPLE_URL</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="k">for</span> <span class="n">hop</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">links</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>

    <span class="n">link_element</span> <span class="o">=</span> <span class="n">links</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Name: </span><span class="si">{</span><span class="n">link_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link_element</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">"href"</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Final Answer: </span><span class="si">{</span><span class="n">link_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<pre class="example">
Name: Fikret
Name: Montgomery
Name: Mhairade
Name: Butchi
Name: Anayah
Final Answer: Anayah
</pre></div>
</div>
<div class="outline-4" id="outline-container-org124f455">
<h4 id="org124f455">The Slightly Less Easy Way</h4>
<div class="outline-text-4" id="text-org124f455">
<div class="highlight">
<pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">SAMPLE_URL</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Name: </span><span class="si">{</span><span class="n">expression</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">SAMPLE_URL</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">hop</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
   <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="s2">"html.parser"</span><span class="p">)</span>
   <span class="n">link_element</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> 
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Name: </span><span class="si">{</span><span class="n">link_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
   <span class="n">response</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">link_element</span><span class="p">[</span><span class="s2">"href"</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Final Answer: </span><span class="si">{</span><span class="n">link_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<pre class="example">
Name: Fikret
Name: Montgomery
Name: Mhairade
Name: Butchi
Name: Anayah

Final Answer: Anayah
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-orgd426b6b">
<h3 id="orgd426b6b">The Real One</h3>
<div class="outline-text-3" id="text-orgd426b6b"></div>
<div class="outline-4" id="outline-container-orge20a9a6">
<h4 id="orge20a9a6">The Easy Way</h4>
<div class="outline-text-4" id="text-orge20a9a6">
<div class="highlight">
<pre><span></span><span class="n">session</span> <span class="o">=</span> <span class="n">HTMLSession</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ASSIGNMENT_URL</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span>

<span class="n">expression</span> <span class="o">=</span> <span class="s2">"_(?P&lt;name&gt;[^_.]+).html"</span>
<span class="n">expression</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Name: </span><span class="si">{</span><span class="n">expression</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">ASSIGNMENT_URL</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="k">for</span> <span class="n">hop</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">links</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>

    <span class="n">link_element</span> <span class="o">=</span> <span class="n">links</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Name: </span><span class="si">{</span><span class="n">link_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link_element</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">"href"</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Final Answer: </span><span class="si">{</span><span class="n">link_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<pre class="example">
Name: Abdalroof
Name: Billi
Name: Jayse
Name: Amaarah
Name: Cesar
Name: Rosheen
Name: Mohamed
Name: Kiara
Final Answer: Kiara
</pre></div>
</div>
<div class="outline-4" id="outline-container-org4a0338a">
<h4 id="org4a0338a">The Assignment Way</h4>
<div class="outline-text-4" id="text-org4a0338a">
<div class="highlight">
<pre><span></span><span class="n">HOPS</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">FIND_AT_INDEX</span> <span class="o">=</span> <span class="mi">18</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">ASSIGNMENT_URL</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Name: </span><span class="si">{</span><span class="n">expression</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">ASSIGNMENT_URL</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">hop</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">HOPS</span><span class="p">):</span>
   <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="s2">"html.parser"</span><span class="p">)</span>
   <span class="n">link_element</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)[</span><span class="n">FIND_AT_INDEX</span><span class="p">]</span> 
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Name: </span><span class="si">{</span><span class="n">link_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
   <span class="n">response</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">link_element</span><span class="p">[</span><span class="s2">"href"</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Final Answer: </span><span class="si">{</span><span class="n">link_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<pre class="example" id="org5a3b387">
Name: Abdalroof
Name: Billi
Name: Jayse
Name: Amaarah
Name: Cesar
Name: Rosheen
Name: Mohamed
Name: Kiara

Final Answer: Kiara
</pre></div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org763bebf">
<h2 id="org763bebf">End</h2>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="/posts/nature-of-code/nested-follower/">Nested follower</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="/posts/nature-of-code/nested-follower/" rel="bookmark"><time class="published dt-published" datetime="2019-07-23T13:49:03-07:00" itemprop="datePublished" title="2019-07-23 13:49">2019-07-23 13:49</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="/posts/nature-of-code/nested-follower/#org5887b30">Beginning</a>
<ul>
<li><a href="/posts/nature-of-code/nested-follower/#org0fd93a8">Create A Walker</a></li>
<li><a href="/posts/nature-of-code/nested-follower/#org46debec">Specifications</a></li>
</ul>
</li>
<li><a href="/posts/nature-of-code/nested-follower/#orgc089114">Middle</a></li>
<li><a href="/posts/nature-of-code/nested-follower/#org0da10ca">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org5887b30">
<h2 id="org5887b30">Beginning</h2>
<div class="outline-text-2" id="text-org5887b30">
<p>This is assignment 1 from the Nature of Code course on Kadenze. I was originally going to make it a mouse-follower but I re-read the instructions and it seems like it's better to make it a random-walker. These are the requirements:</p>
</div>
<div class="outline-3" id="outline-container-org0fd93a8">
<h3 id="org0fd93a8">Create A Walker</h3>
<div class="outline-text-3" id="text-org0fd93a8">
<ul class="org-ul">
<li>Create an object that moves around the screen</li>
<li>Incorporate randomness or perlin noise</li>
</ul>
</div>
</div>
<div class="outline-3" id="outline-container-org46debec">
<h3 id="org46debec">Specifications</h3>
<div class="outline-text-3" id="text-org46debec">
<ul class="org-ul">
<li>Needs to be visually different from the Nature of Code examples</li>
<li>Use comments</li>
<li>Only use <code>p5.js</code> libraries</li>
</ul>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-orgc089114">
<h2 id="orgc089114">Middle</h2>
<div class="outline-text-2" id="text-orgc089114">
<script language="javascript" src="/posts/nature-of-code/nested-follower/follower.js" type="text/javascript"></script>
<div id="nested-follower"></div>
<div class="highlight">
<pre><span></span>/**
 * Random Walker
 *
 * This is an implementation of the Random Walker based on the example given in
 * "The Nature of Code"
 */

// This is the div where the canvas will be placed
let nested_parent_div_id = "nested-follower";

/**
 * The sketch creator
 * 
 * @param {P5} p
 */
let nested_follower_sketch = function(p) {
    /**
     * Setup the canvas
     *
     * - Attaches the canvas to the div
     * - Creates the walker objects
     */
    p.setup = function() {
        this.canvas = p.createCanvas($("#" + nested_parent_div_id).outerWidth(true), 800);
        p.parent = new NoiseWalker(p);
        let followers = 10;
        p.followers = [new Follower(p, p.parent)];
        for (let step=0; step &lt; followers; step++) {
            p.followers.push(new Follower(p, p.followers[step]));
        };
    };

    /**
     * Refresh the objects by calling their update functions
     *
     * This also clears the background.
     */
    p.draw = function() {
        p.background(255, 255, 255, 50);
        p.parent.update();
        p.followers.forEach(function(follower) {
            follower.update();
        });
    };
};

/**
 * The main walker (with perlin noise)
 *
 * @param {P5} p
 */
function NoiseWalker(p) {
    // Our kinematics vectors
    this.position = p.createVector(p.width/2, p.height/2);
    this.velocity = p.createVector(0, 0);
    this.acceleration = p.createVector(0, 0);

    // Time for the perlin noise function
    this.time_x = 0;
    this.time_y = 10000;
    this.time_delta = 0.01;

    // The limit of how much we'll accelerate
    this.max_acceleration = 0.05;

    /**
     * Updates the walker's position
     */
    this.walk = function() {
        // set the acceleration using perlin noise
        this.acceleration.x = p.map(p.noise(this.time_x), 0, 1,
                                    -this.max_acceleration,
                                    this.max_acceleration);
        this.acceleration.y = p.map(p.noise(this.time_y), 0, 1,
                                    -this.max_acceleration,
                                    this.max_acceleration);
        // Move the walker
        this.velocity = this.velocity.add(this.acceleration);
        this.position = this.position.add(this.velocity);

        // keep it within the window
        if (this.position.x &lt; 0)
            this.velocity.x = p.abs(this.velocity.x);
        else if (this.position.x &gt; p.width)
            this.velocity.x = -this.velocity.x;
        if (this.position.y &lt; 0)
            this.velocity.y = p.abs(this.velocity.y);
        else if (this.position.y &gt; p.height)
            this.velocity.y = -this.velocity.y;

        // update the time
        this.time_x += this.time_delta;
        this.time_y += this.time_delta;
    };

    /**
     * draws the walker (for debugging)
     */
    this.display = function() {
        p.stroke(0);
        p.point(this.position.x, this.position.y);
    };

    /**
     * Calls the walk function
     */
    this.update = function() {
        this.walk();
    };
}


/**
 * A follower that follows a parent object
 *
 * @param {P5} p
 * @param {NoiseWalker} parent
 */
function Follower(p, parent) {
    this.parent = parent;
    this.variance = p.random(1, 10);
    this.position = p.createVector(
        this.parent.position.x + p.random(-this.variance, this.variance),
        this.parent.position.y + p.random(-this.variance, this.variance));
    this.velocity = p.createVector(0, 0);

    // some colors to cycle through
    this.max_diameter = p.round(p.random(5, 200));
    this.time_x = p.random(100);
    this.time_y = p.random(10000, 11000);
    this.time_delta = 0.005;

    /**
     * Moves the Follower
     *
     * sets the acceleration by pointing to the parent's position
     */
    this.walk = function() {
        let acceleration = p5.Vector.sub(this.parent.position, this.position);       
        this.velocity = this.velocity.add(acceleration);
        this.position = this.position.add(this.velocity);
    };

    /**
     * Display the Follower
     *
     * cycles through the colors as we go
     */
    this.display = function() {
        // set our line width
        p.strokeWeight(p.map(p.noise(this.time_x, this.time_y),
                             0, 1, this.variance, 2 * this.variance));

        // set our color
        p.stroke(63, 63, 191);        

        // don't fill the object
        p.noFill();

        // draw our object with a random diameter
        p.ellipse(this.position.x, this.position.y,
                  p.round(p.random(5, this.max_diameter)),
                  p.round(p.random(5, this.max_diameter)));

        // update the time
        this.time_x += this.time_delta;
        this.time_y += this.time_delta;

    };

    /**
     * calls the update and walk 
     */
    this.update = function() {
        this.walk();
        this.display();
    };
}

// create the p5 object and attach it to the div
new p5(nested_follower_sketch, nested_parent_div_id);
</pre></div>
<div class="outline-2" id="outline-container-org0da10ca">
<h2 id="org0da10ca">End</h2>
</div>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/nature-of-code/a-mouse-follower/">A Mouse Follower</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="posts/nature-of-code/a-mouse-follower/" rel="bookmark"><time class="published dt-published" datetime="2019-07-21T16:03:37-07:00" itemprop="datePublished" title="2019-07-21 16:03">2019-07-21 16:03</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/nature-of-code/a-mouse-follower/#org4e06a46">Beginning</a></li>
<li><a href="posts/nature-of-code/a-mouse-follower/#orgeb3b5f5">Middle</a></li>
<li><a href="posts/nature-of-code/a-mouse-follower/#orgf79f684">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org4e06a46">
<h2 id="org4e06a46">Beginning</h2>
<div class="outline-text-2" id="text-org4e06a46">
<p>Instead of a random walker this walker will be attracted (somewhat) to the mouse cursor.</p>
</div>
</div>
<div class="outline-2" id="outline-container-orgeb3b5f5">
<h2 id="orgeb3b5f5">Middle</h2>
<div class="outline-text-2" id="text-orgeb3b5f5">
<script language="javascript" src="posts/nature-of-code/a-mouse-follower/follower.js" type="text/javascript"></script>
<div id="mouse-follower"></div>
<div class="highlight">
<pre><span></span>let parent_div_id = "mouse-follower";

let mouse_follower_sketch = function(p) {
    p.setup = function() {
        this.canvas = p.createCanvas($("#" + parent_div_id).outerWidth(true), 800);
        p.walker = new MouseWalker(p);
    }

    p.draw = function() {
        p.background(255);
        p.walker.walk();
        p.walker.display();
    }
};

function MouseWalker(p) {
    this.position = p.createVector(p.width/2, p.height/2);
    this.velocity = p.createVector(0, 0)

    this.walk = function() {
        mouse = p.createVector(p.mouseX, p.mouseY);
        // calling sub on the vectors does an in-place update
        // using p5.Vector.sub creates a new vector
        // This is a static method so we use the module (p5) not the instance (p)
        acceleration = mouse.sub(this.position);

        // setMag always produces the same magnitude (but the orientation stays the same)
        acceleration.setMag(0.1);
        this.velocity = this.velocity.add(acceleration);
        this.position = this.position.add(this.velocity)
  }

  this.display = function() {
      p.stroke(0);
      p.noFill();
      p.background(255, 255, 255, 25);
      p.ellipse(this.position.x, this.position.y, 48, 48);
  }
}

sketch_container = new p5(mouse_follower_sketch, parent_div_id);
</pre></div>
</div>
</div>
<div class="outline-2" id="outline-container-orgf79f684">
<h2 id="orgf79f684">End</h2>
<div class="outline-text-2" id="text-orgf79f684">
<ol class="org-ol">
<li>Shiffman D. <a href="https://natureofcode.com/">The nature of code</a>: simulating natural systems with processing. Version 1.0, generated December 6, 2012. s.l.: Selbstverl.; 2012. 498 p.</li>
</ol>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/nature-of-code/a-random-accelerator/">A Random Accelerator</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="posts/nature-of-code/a-random-accelerator/" rel="bookmark"><time class="published dt-published" datetime="2019-07-21T15:14:42-07:00" itemprop="datePublished" title="2019-07-21 15:14">2019-07-21 15:14</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/nature-of-code/a-random-accelerator/#org537ee5b">Beginning</a></li>
<li><a href="posts/nature-of-code/a-random-accelerator/#org3b4280b">Middle</a></li>
<li><a href="posts/nature-of-code/a-random-accelerator/#orgbb52c43">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org537ee5b">
<h2 id="org537ee5b">Beginning</h2>
<div class="outline-text-2" id="text-org537ee5b">
<p>This is an extension of the random walker with acceleration added.</p>
</div>
</div>
<div class="outline-2" id="outline-container-org3b4280b">
<h2 id="org3b4280b">Middle</h2>
<div class="outline-text-2" id="text-org3b4280b">
<script language="javascript" src="posts/nature-of-code/a-random-accelerator/walker.js" type="text/javascript"></script>
<div id="random-accelerator"></div>
<div class="highlight">
<pre><span></span>let random_accelerator_sketch = function(p) {
    p.setup = function() {
        let parent_div_id = "random-accelerator";
        this.canvas = p.createCanvas($("#" + parent_div_id).outerWidth(true), 800);
        this.canvas.parent(parent_div_id);
        p.walker = new Walker(p);
    }

    p.draw = function() {
        p.background(255);
        p.walker.walk();
        p.walker.display();
    }
};

function Walker(p) {
    this.position = p.createVector(p.width/2, p.height/2);
    this.velocity = p.createVector(0, 0)

    this.walk = function() {
        acceleration = p.createVector(p.random(-1, 1), p.random(-1, 1));
        acceleration = acceleration.mult(0.1)
        this.velocity = this.velocity.add(acceleration)
        this.position = this.position.add(this.velocity)
  }

  this.display = function() {
      p.stroke(0);
      p.noFill();
      p.background(255, 255, 255, 25);
      p.ellipse(this.position.x, this.position.y, 48, 48);
  }
}

sketch_container = new p5(random_accelerator_sketch, 'random-accelerator');
</pre></div>
</div>
</div>
<div class="outline-2" id="outline-container-orgbb52c43">
<h2 id="orgbb52c43">End</h2>
<div class="outline-text-2" id="text-orgbb52c43">
<p>This was a very rudimentary walker, the main point of it was that at this point we have the basic kinematic elements to make something following the rules of classical physics (more or less).</p>
<ol class="org-ol">
<li>Shiffman D. <a href="https://natureofcode.com/">The nature of code</a>: simulating natural systems with processing. Version 1.0, generated December 6, 2012. s.l.: Selbstverl.; 2012. 498 p.</li>
</ol>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/nature-of-code/a-random-walker/">A Random Walk(er)</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="posts/nature-of-code/a-random-walker/" rel="bookmark"><time class="published dt-published" datetime="2019-07-21T12:29:09-07:00" itemprop="datePublished" title="2019-07-21 12:29">2019-07-21 12:29</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/nature-of-code/a-random-walker/#orgf899352">Beginning</a></li>
<li><a href="posts/nature-of-code/a-random-walker/#org89da448">Middle</a>
<ul>
<li><a href="posts/nature-of-code/a-random-walker/#org6892984">A Div to Locate the Sketch</a></li>
<li><a href="posts/nature-of-code/a-random-walker/#org9c0d2c0">The Javascript</a></li>
</ul>
</li>
<li><a href="posts/nature-of-code/a-random-walker/#org8ecd9c6">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orgf899352">
<h2 id="orgf899352">Beginning</h2>
<div class="outline-text-2" id="text-orgf899352">
<p>This is another post to see if I understand how to get <a href="https://p5js.org/">p5.js</a> working in nikola. It's been a while since I tried and I just want to see if I remember how. This uses the random walk example from Daniel Schiffman's book <i>the Nature of Code</i>.</p>
</div>
</div>
<div class="outline-2" id="outline-container-org89da448">
<h2 id="org89da448">Middle</h2>
<div class="outline-text-2" id="text-org89da448"></div>
<div class="outline-3" id="outline-container-org6892984">
<h3 id="org6892984">A Div to Locate the Sketch</h3>
<div class="outline-text-3" id="text-org6892984">
<p>The id of this div is set in the <code>p5.js</code> <code>setup</code> function as the parent of the sketch.</p>
<div class="highlight">
<pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">language</span><span class="o">=</span><span class="s">"javascript"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span> <span class="na">src</span><span class="o">=</span><span class="s">"walker.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"random-walk-container"</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
<script language="javascript" src="posts/nature-of-code/a-random-walker/walker.js" type="text/javascript"></script>
<div id="random-walk-container"></div>
<p><b>Note:</b> Originally this wasn't working, because I had the line to include the javascript inside the <code>div</code> to hold the canvas. Make sure that <code>div</code> is always empty.</p>
</div>
</div>
<div class="outline-3" id="outline-container-org9c0d2c0">
<h3 id="org9c0d2c0">The Javascript</h3>
<div class="outline-text-3" id="text-org9c0d2c0">
<div class="highlight">
<pre><span></span>let sketch = function(p) {
    p.setup = function() {
        let parent_div_id = "random-walk-container";
        this.canvas = p.createCanvas($("#" + parent_div_id).outerWidth(true), 300);
        this.canvas.parent();
        p.walker = new Walker(p);
    }

    p.draw = function() {
        p.background(255);
        p.walker.walk();
        p.walker.display();
    }
};

function Walker(p) {
  this.x = p.width/2;
  this.y = p.height/2;

  this.walk = function() {
    this.x = this.x + p.random(-1, 1) * 10;
    this.y = this.y + p.random(-1, 1) * 10;
  }

  this.display = function() {
    p.fill(0);
    p.ellipse(this.x, this.y, 48, 48);
  }
}

//let node = document.getElementById("random-walk")
//window.document.getElementsByTagName("body")[0].appendChild(node);
sketch_container = new p5(sketch, 'random-walk-container');
</pre></div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org8ecd9c6">
<h2 id="org8ecd9c6">End</h2>
<div class="outline-text-2" id="text-org8ecd9c6">
<p>As always, this was way harder than it should have been.</p>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/notes/the-origin-of-bayes-theorem/">The Origin of Bayes Theorem</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="posts/notes/the-origin-of-bayes-theorem/" rel="bookmark"><time class="published dt-published" datetime="2019-05-12T14:02:18-07:00" itemprop="datePublished" title="2019-05-12 14:02">2019-05-12 14:02</time></a></p>
</div>
</header>
<div class="e-content entry-content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/notes/the-origin-of-bayes-theorem/#org773c05d">A Brief Sketch of The Timelines to Bayes' Theorem</a></li>
<li><a href="posts/notes/the-origin-of-bayes-theorem/#orgbb76789">The Equations</a>
<ul>
<li><a href="posts/notes/the-origin-of-bayes-theorem/#orgbd1e7e6">Bayes' Formulation</a></li>
<li><a href="posts/notes/the-origin-of-bayes-theorem/#org51a100f">Laplace's First Version</a></li>
<li><a href="posts/notes/the-origin-of-bayes-theorem/#orgf010bfc">Laplace's Final Version</a></li>
</ul>
</li>
<li><a href="posts/notes/the-origin-of-bayes-theorem/#org7598c59">Sources</a></li>
</ul>
</div>
</div>
<p>I'm reading "The theory that would not die" and these are notes I took from them. The book didn't really give me a clear idea about what Price's argument was so I also read a <a href="https://qz.com/1315731/the-most-important-formula-in-data-science-was-first-used-to-prove-the-existence-of-god/">Quartz</a> article about that part of the story and, of course, Wikipedia came into it at some points.</p>
<div class="outline-2" id="outline-container-org773c05d">
<h2 id="org773c05d">A Brief Sketch of The Timelines to Bayes' Theorem</h2>
<div class="outline-text-2" id="text-org773c05d">
<ul class="org-ul">
<li>1718: <a href="https://www.wikiwand.com/en/Abraham_de_Moivre">Abraham de Moivre</a> publishes <a href="https://www.wikiwand.com/en/The_Doctrine_of_Chances">The Doctrine of Chances</a>, the first textbook on probability.</li>
<li>1746-1749: Somewhere in this period <a href="https://www.wikiwand.com/en/Thomas_Bayes">Thomas Bayes</a> comes writes <a href="https://www.wikiwand.com/en/An_Essay_towards_solving_a_Problem_in_the_Doctrine_of_Chances">An Essay towards solving a Problem in the Doctrine of the Chances</a> which describes elements of Inverse Probability, in which the probability of a cause is calculated based on observed effects, stated as a thought experiment in which a person turned away from a table estimates the position of a ball based on being told whether subsequent balls randomly dropped on the same table are to the left or the right of it.</li>
<li>1748: <a href="https://www.wikiwand.com/en/David_Hume">David Hume</a> publishes <a href="https://www.wikiwand.com/en/Of_Miracles">Of Miracles</a>, in which he argues that since miracles are, by nature, singular, they can never have as much evidence in their favor as against them.</li>
<li>1749: <a href="https://www.wikiwand.com/en/Pierre-Simon_Laplace">Pierre-Simon Laplace</a> is born</li>
<li>1764: <a href="https://www.wikiwand.com/en/Richard_Price">Richard Price</a> publishes <a href="https://www.wikiwand.com/en/An_Essay_towards_solving_a_Problem_in_the_Doctrine_of_Chances">An Essay towards solving a Problem in the Doctrine of the Chances</a> with his additions, believing that it could act as a refutation of Hume's argument</li>
<li>1774: Laplace comes up with idea that the probability of a cause given the observed effect is the ratio of the probability of that effect given the cause to sum of the probabilities for all other causes given that effect.</li>
<li>1781: Price tells <a href="https://www.wikiwand.com/en/Marquis_de_Condorcet">the Marquis of Condorcet</a> about Bayes' work and Laplace incorporates the use of the prior into his formulation</li>
<li>1810: Laplace discovers <a href="https://www.wikiwand.com/en/Central_limit_theorem">the Central Limit Theorem</a></li>
<li>1814: Laplace extends his version of Bayes' equation</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orgbb76789">
<h2 id="orgbb76789">The Equations</h2>
<div class="outline-text-2" id="text-orgbb76789">
<p>Since it's hard to write out the equations in bullet points I'm going to write some simple versions here.</p>
</div>
<div class="outline-3" id="outline-container-orgbd1e7e6">
<h3 id="orgbd1e7e6">Bayes' Formulation</h3>
<div class="outline-text-3" id="text-orgbd1e7e6">
<p>"The theory that would not die" notes that Bayes' didn't write out an equation, but it can be written out something like this. \[ P(\textit{cause}|\textit{effect}) = \frac{P(\textit{effect}|\textit{cause}) P(\textit{cause})}{P(\textit{effect})} \]</p>
</div>
</div>
<div class="outline-3" id="outline-container-org51a100f">
<h3 id="org51a100f">Laplace's First Version</h3>
<div class="outline-text-3" id="text-org51a100f">
<p>Originally Laplace didn't have the prior's in his equation (I'll substitute <i>C</i> for <i>cause</i>, <i>E</i> for <i>effect</i> and <i>C'</i> for not our theorized cause). \[ P(C|E) = \frac{P(E|C)}{\sum P(E|C')} \]</p>
</div>
</div>
<div class="outline-3" id="outline-container-orgf010bfc">
<h3 id="orgf010bfc">Laplace's Final Version</h3>
<div class="outline-text-3" id="text-orgf010bfc">
<p>\[ P(C|E) = \frac{P(E|C)P_{\textit{prior}}(C)}{\sum P(E|C') P_{\textit{prior}} (C')} \]</p>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org7598c59">
<h2 id="org7598c59">Sources</h2>
<div class="outline-text-2" id="text-org7598c59">
<ol class="org-ol">
<li>McGrayne SB. The theory that would not die: how Bayes’ rule cracked the enigma code, hunted down Russian submarines, and emerged triumphant from two centuries of controversy. paperback ed. New Haven, Conn.: Yale University Press; 2011. 336 p.</li>
<li>Kopf D. The most important formula in data science was first used to prove the existence of God [Internet]. Quartz. [cited 2019 May 12]. Available from: <a href="https://qz.com/1315731/the-most-important-formula-in-data-science-was-first-used-to-prove-the-existence-of-god/">https://qz.com/1315731/the-most-important-formula-in-data-science-was-first-used-to-prove-the-existence-of-god/</a></li>
</ol>
</div>
</div>
</div>
</article>
<ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-5.html" rel="prev">Newer posts</a></li>
<li class="next"><a href="index-3.html" rel="next">Older posts</a></li>
</ul>
<!--End of body content-->
<footer id="footer">Contents © 2023 <a href="mailto:cloisteredmonkey.jmark@slmail.me">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a></footer>
<script src="assets/js/all-nocdn.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script> </div>
</div>
</div>
</article>
</div>
</div>
</div>
</body>
</html>
