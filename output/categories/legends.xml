<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Visions, Voices, Data (Posts about legends)</title><link>https://necromuralist.github.io/Visions-Voices-Data/</link><description></description><atom:link href="https://necromuralist.github.io/Visions-Voices-Data/categories/legends.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents Â© 2019 &lt;a href="mailto:necromuralist@protonmail.com"&gt;Cloistered Monkey&lt;/a&gt; </copyright><lastBuildDate>Tue, 26 Feb 2019 02:33:30 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Interactive Bokeh Legends</title><link>https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/#orgdc7c481"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/#orgc3d4579"&gt;Set Up&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/#orgfc22c09"&gt;Imports&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/#org8037cad"&gt;The Embedder&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/#org8d4b6a5"&gt;Hide Plots&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/#orge9f3d8b"&gt;Output The Plot&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/#org9ae4dca"&gt;Fade Plots&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/#org7d41705"&gt;Output The Plot&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgdc7c481" class="outline-2"&gt;
&lt;h2 id="orgdc7c481"&gt;Introduction&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgdc7c481"&gt;
&lt;p&gt;
This is a reproduction of the &lt;a href="https://bokeh.pydata.org/en/latest/docs/user_guide/interaction/legends.html"&gt;bokeh interactive legends example&lt;/a&gt;.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgc3d4579" class="outline-2"&gt;
&lt;h2 id="orgc3d4579"&gt;Set Up&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgc3d4579"&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgfc22c09" class="outline-3"&gt;
&lt;h3 id="orgfc22c09"&gt;Imports&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgfc22c09"&gt;
&lt;/div&gt;
&lt;div id="outline-container-org709952f" class="outline-4"&gt;
&lt;h4 id="org709952f"&gt;Python&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-org709952f"&gt;
&lt;p&gt;
I have a class that I use to embed the bokeh and I'm going to make it easier to reuse by binding some values to it with &lt;a href="https://docs.python.org/3.6/library/functools.html"&gt;partial&lt;/a&gt;.
&lt;/p&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;from functools import partial
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org778adbc" class="outline-4"&gt;
&lt;h4 id="org778adbc"&gt;PyPi&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-org778adbc"&gt;
&lt;/div&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;a id="org0b62353"&gt;&lt;/a&gt;Bokeh&lt;br&gt;
&lt;div class="outline-text-5" id="text-org0b62353"&gt;
&lt;p&gt;
The &lt;code&gt;Spectral&lt;/code&gt; color scheme from &lt;a href="https://bokeh.pydata.org/en/latest/docs/reference/palettes.html"&gt;bokeh.palettes&lt;/a&gt; is a categorical color scheme from &lt;a href="http://colorbrewer2.org/#type=sequential&amp;amp;scheme=BuGn&amp;amp;n=3"&gt;Color Brewer&lt;/a&gt;, a color scheme helper for cartographers.
&lt;/p&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;from bokeh.palettes import Spectral4
from bokeh.plotting import figure
from bokeh.sampledata.stocks import AAPL, IBM, MSFT, GOOG
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&lt;a id="orgf9bcc83"&gt;&lt;/a&gt;Pandas And HoloViews&lt;br&gt;
&lt;div class="outline-text-5" id="text-orgf9bcc83"&gt;
&lt;p&gt;
Pandas is for the data, and, although I don't think you should need it, holoviews is to set the bokeh backend. I don't know why but I was getting errors until I did this. Maybe there was some kind of contamination between my jupyter notebook sessions. Anyway, it fixed the problem I had.
&lt;/p&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;import holoviews
import pandas
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgaab25d0" class="outline-4"&gt;
&lt;h4 id="orgaab25d0"&gt;My Stuff&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-orgaab25d0"&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;from neurotic.tangles.timer import Timer
from bartleby_the_penguin.tangles.embed_bokeh import EmbedBokeh
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org62d2c7d" class="outline-4"&gt;
&lt;h4 id="org62d2c7d"&gt;The Bokeh Imports&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-org62d2c7d"&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;from bokeh.embed import autoload_static
import bokeh.resources
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org8037cad" class="outline-3"&gt;
&lt;h3 id="org8037cad"&gt;The Embedder&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org8037cad"&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;files_path = Path("../../files/posts/libraries/interactive-bokeh-legends/")
Embed = partial(
    EmbedBokeh,
    folder_path=files_path)
&lt;/pre&gt;&lt;/div&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;holoviews.extension("bokeh")
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org8d4b6a5" class="outline-2"&gt;
&lt;h2 id="org8d4b6a5"&gt;Hide Plots&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org8d4b6a5"&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;plot = figure(plot_width=800, plot_height=400, 
	      x_axis_type="datetime", 
	      tools="hover,pan,wheel_zoom,box_zoom,reset")
plot.title.text = "Some Stock Prices (Click On the Legend To Hide Plots)"
&lt;/pre&gt;&lt;/div&gt;

/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;for data, name, color in zip([AAPL, IBM, MSFT, GOOG], "Apple IBM Microsoft Google".split(), Spectral4):
    frame = pandas.DataFrame(data)
    frame["date"] = pandas.to_datetime(frame["date"])
    plot.line(frame["date"], frame["close"], line_width=2, color=color, alpha=0.8, legend=name)
plot.legend.location = "top_left"
plot.legend.click_policy = "hide"
plot.title.text_font_size = "14pt"
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orge9f3d8b" class="outline-3"&gt;
&lt;h3 id="orge9f3d8b"&gt;Output The Plot&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orge9f3d8b"&gt;
&lt;script src="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/interactive_legend.js" id="11761887-e983-4882-8f9e-2ea31dcf69b0"&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org9ae4dca" class="outline-2"&gt;
&lt;h2 id="org9ae4dca"&gt;Fade Plots&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org9ae4dca"&gt;
/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fade_plot = figure(plot_width=800, plot_height=400, 
		   x_axis_type="datetime", 
		   tools="hover,pan,wheel_zoom,box_zoom,reset")
fade_plot.title.text = "Some Stock Prices (Click On the Legend To Mute Plots)"
fade_plot.title.text_font_size = "14pt"
&lt;/pre&gt;&lt;/div&gt;

/home/brunhilde/.virtualenvs/Visions-Voices-Data/bin/python3: No module named virtualfish
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;for data, name, color in zip([AAPL, IBM, MSFT, GOOG], "Apple IBM Microsoft Google".split(), Spectral4):
    frame = pandas.DataFrame(data)
    frame["date"] = pandas.to_datetime(frame["date"])
    fade_plot.line(frame["date"], frame["close"], line_width=2, color=color, muted_alpha=0.2, muted_color=color, alpha=0.8, legend=name)
fade_plot.legend.location = "top_left"
fade_plot.legend.click_policy = "mute"
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org7d41705" class="outline-3"&gt;
&lt;h3 id="org7d41705"&gt;Output The Plot&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org7d41705"&gt;
&lt;script src="https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/interactive_muted_legend.js" id="684bd0ee-2d92-45ff-b123-7b90d171bf2c"&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>bokeh</category><category>interactivity</category><category>legends</category><guid>https://necromuralist.github.io/Visions-Voices-Data/posts/libraries/interactive-bokeh-legends/</guid><pubDate>Sun, 24 Feb 2019 03:15:50 GMT</pubDate></item></channel></rss>