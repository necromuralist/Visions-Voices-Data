#    -*- mode: org -*-


Archived entries from file /home/athena/projects/Visions-Voices-Data/posts/libraries/holoviews-tabular-datasets.org


* Aggregate The Data
   The one column that I didn't add is the =Week= column. The =Dataset= has a rather confusing =aggregate= method (confusing because you only pass in the function to aggregate with) that apparently knows how to use the =key_dimensions= variables we passed in to figure out what to aggregate.

#+begin_src ipython :session holoviews :results none
dataset = dataset.aggregate(function=numpy.mean)
#+end_src

#+begin_src ipython :session holoviews :results output :exports both
print(dataset)
print(dataset.shape)
#+end_src

#+RESULTS:
: :Dataset   [Year,State]
: (5, 4)

#+begin_src ipython :session holoviews :results none
grouped = diseases.groupby(["State", "Year"]).agg({
    "measles": "mean", 
    "pertussis": "mean"}).reset_index()
layout = (holoviews.Curve(grouped, "Year", "measles")
          + holoviews.Curve(grouped, "Year", "pertusis")).cols(1)
layout.opts(opts.Curve(width=600, height=250, framewise=True))
#+end_src

#+begin_src ipython :session holoviews :results output raw :exports both
Embed(layout, "measles_pertusis")()
#+end_src

#+RESULTS:
#+BEGIN_EXPORT html
<script src="measles_pertusis.js" id="347032b7-71d8-4a97-9f15-1d8cd6448768"></script>
#+END_EXPORT
