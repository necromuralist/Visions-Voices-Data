<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="A look at the High School Contact and Friendship Networks." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>High School Friendship Networks | Visions, Voices, Data</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="../../../rss.xml" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/Visions-Voices-Data/posts/networks/high-school-friendship-networks/" rel="canonical"><!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]-->
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
</script>
<meta content="Cloistered Monkey" name="author">
<link href="../network-datasets/" rel="prev" title="Network Datasets" type="text/html">
<link href="../high-school-facebook-networks/" rel="next" title="High School Facebook Networks" type="text/html">
<meta content="Visions, Voices, Data" property="og:site_name">
<meta content="High School Friendship Networks" property="og:title">
<meta content="https://necromuralist.github.io/Visions-Voices-Data/posts/networks/high-school-friendship-networks/" property="og:url">
<meta content="A look at the High School Contact and Friendship Networks." property="og:description">
<meta content="article" property="og:type">
<meta content="2019-03-24T17:38:17-07:00" property="article:published_time">
<meta content="exploration" property="article:tag">
<meta content="networks" property="article:tag">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="https://necromuralist.github.io/Visions-Voices-Data/"><span id="blog-title">Visions, Voices, Data</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="../../../archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="../../../categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="../../../rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Pages</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/">Cloistered Monkey</a> <a class="dropdown-item" href="../../../pages/giss/giss-yearly-anomalies-by-climate-zone">GISS Anomalies</a></div>
</li>
</ul>
<!-- DuckDuckGo custom search -->
<form action="https://duckduckgo.com/" class="navbar-form pull-left" id="search" method="get" name="search"><input name="sites" type="hidden" value="https://necromuralist.github.io/Visions-Voices-Data/"><input name="k8" type="hidden" value="#444444"><input name="k9" type="hidden" value="#D51920"><input name="kt" type="hidden" value="h"><input class="span2" maxlength="255" name="q" placeholder="Searchâ€¦" type="text"><input style="visibility: hidden;display:none" type="submit" value="DuckDuckGo Search"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right">
<li class="nav-item"><a class="nav-link" href="index.org" id="sourcelink">Source</a></li>
</ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href=".">High School Friendship Networks</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2019-03-24T17:38:17-07:00" itemprop="datePublished" title="2019-03-24 17:38">2019-03-24 17:38</time> <span class="updated">(updated <time class="updated dt-updated" datetime="2019-03-27T00:11:17-07:00" itemprop="dateUpdated" title="2019-03-27 00:11">2019-03-27 00:11</time>)</span></a></p>
<p class="sourceline"><a class="sourcelink" href="index.org">Source</a></p>
</div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org59967bc">The Departure</a>
<ul>
<li><a href="#org3b48468">Setup The Plotting</a></li>
</ul>
</li>
<li><a href="#org3c481ca">The Initiation</a>
<ul>
<li><a href="#org60b87ee">Meta-Data</a></li>
<li><a href="#org5ad9f26">The Friendship Network</a></li>
<li><a href="#orge214e59">Looking at the Friendship Network</a></li>
<li><a href="#org644eaab">Plotting</a></li>
<li><a href="#orgc9883fa">Degree Distribution</a></li>
</ul>
</li>
<li><a href="#org9a6618c">The Return</a>
<ul>
<li><a href="#org74c80ba">Citations</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org59967bc">
<h2 id="org59967bc">The Departure</h2>
<div class="outline-text-2" id="text-org59967bc">
<p>This looks at data provided by <a href="http://www.sociopatterns.org">SocioPatterns</a> that looks a the interactions between students at a High School in Marseilles, France, in December of 2013. In particular, I'm going to look at the <i>Friendship Networks</i> data - wherein the students reported who they were friends with.</p>
</div>
<div class="outline-4" id="outline-container-orga18a8ab">
<h4 id="orga18a8ab">Imports</h4>
<div class="outline-text-4" id="text-orga18a8ab"></div>
<div class="outline-5" id="outline-container-org8027d23">
<h5 id="org8027d23">From Python</h5>
<div class="outline-text-5" id="text-org8027d23">
<div class="highlight">
<pre><span></span>from collections import Counter
from functools import partial
from pathlib import Path
import os
</pre></div>
</div>
</div>
<div class="outline-5" id="outline-container-orgdaca34e">
<h5 id="orgdaca34e">From PyPi</h5>
<div class="outline-text-5" id="text-orgdaca34e">
<div class="highlight">
<pre><span></span>from bokeh.models import HoverTool
from dotenv import load_dotenv
from holoviews import dim, opts
from holoviews.operation.datashader import datashade, bundle_graph
import holoviews
import hvplot.pandas
import networkx
import pandas as pandas
</pre></div>
</div>
</div>
<div class="outline-5" id="outline-container-org58fc731">
<h5 id="org58fc731">My Stuff</h5>
<div class="outline-text-5" id="text-org58fc731">
<div class="highlight">
<pre><span></span>from graeae.timers import Timer
from graeae.tables import CountPercentage
from graeae.visualization import EmbedHoloview
</pre></div>
</div>
</div>
</div>
<div class="outline-4" id="outline-container-orgf8d1185">
<h4 id="orgf8d1185">Load the Dotenv</h4>
<div class="outline-text-4" id="text-orgf8d1185">
<div class="highlight">
<pre><span></span>load_dotenv(".env")
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgfc95434">
<h4 id="orgfc95434">Build the Timer</h4>
<div class="outline-text-4" id="text-orgfc95434">
<div class="highlight">
<pre><span></span>TIMER = Timer()
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-org3b48468">
<h3 id="org3b48468">Setup The Plotting</h3>
<div class="outline-text-3" id="text-org3b48468">
<div class="highlight">
<pre><span></span>holoviews.extension("bokeh")
SLUG = "high-school-friendship-networks/"
output = Path("../../files/posts/networks/" + SLUG)
Embed = partial(EmbedHoloview, folder_path=output)
</pre></div>
<div class="highlight">
<pre><span></span>class Plot:
    """Constants for plotting"""
    width = 1000
    height = 800
    fontsize = 18
    edge_color = "LightSteelBlue"
</pre></div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org3c481ca">
<h2 id="org3c481ca">The Initiation</h2>
<div class="outline-text-2" id="text-org3c481ca"></div>
<div class="outline-3" id="outline-container-org60b87ee">
<h3 id="org60b87ee">Meta-Data</h3>
<div class="outline-text-3" id="text-org60b87ee">
<p>Let's take a look at the meta-data before loading it into pandas.</p>
<div class="highlight">
<pre><span></span>HIGH_SCHOOL = Path(os.environ.get("HIGH_SCHOOL")).expanduser()
assert HIGH_SCHOOL.is_dir()

#+begin_src ipython :session highschool :results none
class Files:
    metadata = "metadata_2013.txt"
    contact_diaries = "Contact-diaries-network_data_2013.csv"
    facebook = "Facebook-known-pairs_data_2013.csv"
    friendship = "Friendship-network_data_2013.csv"
    high_school = "High-School_data_2013.csv"
</pre></div>
<div class="highlight">
<pre><span></span>metadata_path = HIGH_SCHOOL.joinpath(Files.metadata)
assert metadata_path.is_file()
with metadata_path.open() as reader:
    for line in range(5):
        print(reader.readline(), end="")
</pre></div>
<pre class="example">
650     2BIO1   F
498     2BIO1   F
627     2BIO1   F
857     2BIO1   F
487     2BIO1   F

</pre>
<p>This file has the meta-data for the students. The three columns are the student's ID, class, and gender. I don't know what <i>class</i> refers to here.</p>
<div class="highlight">
<pre><span></span>meta_data = pandas.read_csv(metadata_path, sep="\t", 
                            names=["id", "class", "gender"])
meta_data.loc[:, "class"] = meta_data["class"].astype("category")
meta_data.loc[:, "gender"] = meta_data.gender.astype("category")
</pre></div>
<div class="highlight">
<pre><span></span>print(len(meta_data))
print(len(meta_data.id.unique()))
</pre></div>
<pre class="example">
329
329

</pre>
<p>So there's one entry for each student, meaning the student's can't belong to more than one class.</p>
</div>
<div class="outline-4" id="outline-container-org6a05ee9">
<h4 id="org6a05ee9">Classes</h4>
<div class="outline-text-4" id="text-org6a05ee9">
<p>First a table of the counts.</p>
<div class="highlight">
<pre><span></span>table = CountPercentage(meta_data["class"]).holoviews_table.opts(
    width=Plot.width,
    height=256,
    fontsize=Plot.fontsize,
)
Embed(plot=table, file_name="class_table", height_in_pixels=270)()
</pre></div>
<object data="class_table.html" height="270" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p>The fact that there are nine classes makes it seem like it's not likely they are 'classes' in the sense of freshman, sophomores, etc. At the same time, since each student only has one class, it doesn't seem like they are 'classes' in the sense of "Biology 101".</p>
<p>Now a bar-plot to look at how the classes are distributed.</p>
<div class="highlight">
<pre><span></span>grouped = meta_data.groupby(["class", "gender"]).agg(
    {"class": "count", "gender": "count"})
grouped.columns = ["class_count", "gender_count"]
grouped = grouped.reset_index()
</pre></div>
<div class="highlight">
<pre><span></span>plot = grouped.hvplot.bar(title="Class Counts by Gender", 
                          x="class", y="class_count", 
                          stacked=True,
                          by="gender", height=Plot.height, 
                          width=Plot.width,
                          ylabel="Count",
                          xlabel="Class",
                          tools=["hover"],
                          fontsize=Plot.fontsize).opts(xrotation=90)
Embed(plot=plot, file_name="gender_counts_stacked", height_in_pixels=Plot.height)()
</pre></div>
<object data="gender_counts_stacked.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p><a href="gender_counts_stacked.html">Link to Plot</a></p>
<p>This is a look at the same thing except not stacked.</p>
<div class="highlight">
<pre><span></span>plot = grouped.hvplot.bar(title="Class Counts by Gender", x="class", 
                          y="class_count",
                          xlabel="Class",
                          ylabel="Count",
                          by="gender", height=Plot.height, width=Plot.width, 
                          tools=["hover"],
                          fontsize=Plot.fontsize).opts(xrotation=90)
Embed(plot=plot, file_name="gender_counts", height_in_pixels=Plot.height)()
</pre></div>
<object data="gender_counts.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p><a href="gender_counts.html">Link to Plot</a></p>
<p>Strangely, the classes that start with <code>2BIO</code> are more female while the others are more male.</p>
</div>
</div>
<div class="outline-4" id="outline-container-org384d153">
<h4 id="org384d153">Gender</h4>
<div class="outline-text-4" id="text-org384d153">
<p>A stacked bar plot to get a sense of not just the distribution among genders but among classes.</p>
<div class="highlight">
<pre><span></span>plot = grouped.hvplot.bar(title="Gender Counts", x="gender", y="gender_count",
                          stacked=True,
                          by="class", 
                          xlabel="Count",
                          ylabel="Gender",
                          fontsize=Plot.fontsize,
                          width=Plot.width,
                          height=Plot.height).opts(
                              legend_position="top_right",
                              xrotation=90, 
                              xlabel="Gender and Class")
Embed(plot=plot, file_name="class_counts_stacked", height_in_pixels=Plot.height)()
</pre></div>
<object data="class_counts_stacked.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p><a href="class_counts_stacked.html">Link to Plot</a></p>
<p>A non-stacked bar plot to get a better sense of how the genders fill the different classes.</p>
<div class="highlight">
<pre><span></span>plot = grouped.hvplot.bar(title="Gender Counts", x="gender", y="gender_count",
                          xlabel="Gender",
                          ylabel="Count",
                          by="class", 
                          height=Plot.height,
                          width=Plot.width,
                          fontsize=Plot.fontsize).opts(
                              xrotation=90, xlabel="Gender and Class")
Embed(plot=plot, file_name="class_counts", height_in_pixels=Plot.height)()
</pre></div>
<object data="class_counts.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p><a href="class_counts.html">Link to Plot</a></p>
<p>It looks like there were a little more males than females, but not a whole lot more.</p>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-org5ad9f26">
<h3 id="org5ad9f26">The Friendship Network</h3>
<div class="outline-text-3" id="text-org5ad9f26">
<p>This is a dataset that shows whether a student identified another student as their friend.</p>
<div class="highlight">
<pre><span></span>friendship_path = HIGH_SCHOOL.joinpath(Files.friendship)
assert friendship_path.is_file()
with friendship_path.open() as reader:
    for line in range(5):
        print(reader.readline(), end="")
</pre></div>
<pre class="example">
1 55
1 205
1 272
1 494
1 779

</pre>
<p>The first column is the person who reported who his or her friends were and the second column is the person that was identified as a friend.</p>
<div class="highlight">
<pre><span></span>friendship_data = pandas.read_csv(friendship_path, delimiter=" ", 
                                  names=["reporter", "friend"])
friendship_data = friendship_data.dropna()
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-orge214e59">
<h3 id="orge214e59">Looking at the Friendship Network</h3>
<div class="outline-text-3" id="text-orge214e59">
<div class="highlight">
<pre><span></span>with TIMER:
    friendship_graph = networkx.convert_matrix.from_pandas_edgelist(
        friendship_data, "reporter", "friend", 
        create_using=networkx.DiGraph)
</pre></div>
<pre class="example">
Started: 2019-04-10 15:15:14.469087
Ended: 2019-04-10 15:15:14.471246
Elapsed: 0:00:00.002159

</pre>
<div class="highlight">
<pre><span></span>genders = dict(zip(meta_data.id, meta_data.gender))
classes = dict(zip(meta_data.id, meta_data["class"]))
</pre></div>
<div class="highlight">
<pre><span></span>for node in friendship_graph.nodes:
    friendship_graph.nodes[node]["gender"] = genders[node]
    friendship_graph.nodes[node]["class"] = classes[node]
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-org644eaab">
<h3 id="org644eaab">Plotting</h3>
<div class="outline-text-3" id="text-org644eaab"></div>
<div class="outline-4" id="outline-container-orgeaaad38">
<h4 id="orgeaaad38">Friendship Network Circular</h4>
<div class="outline-text-4" id="text-orgeaaad38"></div>
<div class="outline-5" id="outline-container-orgf70360f">
<h5 id="orgf70360f">By Gender</h5>
<div class="outline-text-5" id="text-orgf70360f">
<div class="highlight">
<pre><span></span>hover = HoverTool(
    tooltips = [
         ("Gender", "@gender"),
         ("Class", "@class"),
    ],
)

plot = holoviews.Graph.from_networkx(friendship_graph,
                                     networkx.circular_layout).opts(
                                         node_color=dim("gender"), cmap="Set1",
                                         tools=[hover],
                                         fontsize=Plot.fontsize,
                                         width=800,
                                         height=800,
                                         edge_line_color=Plot.edge_color,
                                         title="Friendship Network by Gender",
                                         xaxis=None, yaxis=None, directed=True)
Embed(plot=plot, file_name="friendship_network_circular")()
</pre></div>
<object data="friendship_network_circular.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p>It's a little hard to see what's going on here, other than to note that you can see some people are more popular than others.</p>
</div>
</div>
<div class="outline-5" id="outline-container-orgddc7e0a">
<h5 id="orgddc7e0a">By Class</h5>
<div class="outline-text-5" id="text-orgddc7e0a">
<div class="highlight">
<pre><span></span>hover = HoverTool(
    tooltips = [
         ("Gender", "@gender"),
         ("Class", "@class"),
    ],
)

plot = holoviews.Graph.from_networkx(friendship_graph,
                                     networkx.circular_layout).opts(
                                         node_color=dim("class"), cmap="Set1",
                                         tools=[hover],
                                         fontsize=Plot.fontsize,
                                         width=800,
                                         height=800,
                                         edge_line_color=Plot.edge_color,
                                         title="Friendship Network by Class",
                                         xaxis=None, yaxis=None, directed=True)
Embed(plot=plot, file_name="friendship_network_circular_class")()
</pre></div>
<object data="friendship_network_circular_class.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p><a href="friendship_network_circular_class.html">Link to Plot</a></p>
</div>
</div>
</div>
<div class="outline-4" id="outline-container-org046475d">
<h4 id="org046475d">Spring Layout</h4>
<div class="outline-text-4" id="text-org046475d"></div>
<div class="outline-5" id="outline-container-org3371b92">
<h5 id="org3371b92">Class</h5>
<div class="outline-text-5" id="text-org3371b92">
<div class="highlight">
<pre><span></span>plot = holoviews.Graph.from_networkx(friendship_graph, networkx.spring_layout, ).opts(
    node_color=dim("class"), cmap="Set1",
    tools=["hover"],
    width=800,
    height=800,
    edge_line_color=Plot.edge_color,
    title="Friendship Network By Class",
    xaxis=None, yaxis=None, directed=True,
    legend_position="right"
)
Embed(plot=plot, file_name="friendship_network_class_spring", height_in_pixels=810)()
</pre></div>
<object data="friendship_network_class_spring.html" height="810" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p><a href="friendship_network_class_spring.html">Link to Plot</a></p>
<p>Unlike the circular plot, this plot shows that there are disconnected neighborhoods within the network and there seems to be a clustering by class.</p>
</div>
</div>
<div class="outline-5" id="outline-container-org2680784">
<h5 id="org2680784">Gender</h5>
<div class="outline-text-5" id="text-org2680784">
<div class="highlight">
<pre><span></span>plot = holoviews.Graph.from_networkx(friendship_graph, networkx.spring_layout, ).opts(
                                         node_color=dim("gender"), cmap="Set1",
                                         tools=["hover"],
                                         width=800,
                                         height=800,
                                         edge_line_color=Plot.edge_color,
                                         title="Friendship Network By Gender",
                                         xaxis=None, yaxis=None, directed=True)
Embed(plot=plot, file_name="friendship_network_gender_spring", height_in_pixels=810)()
</pre></div>
<object data="friendship_network_gender_spring.html" height="810" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p><a href="friendship_network_gender_spring.html">Link to Plot</a></p>
<p>Interestingly, this view seems to show that there is also some segregation by gender.</p>
</div>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-orgc9883fa">
<h3 id="orgc9883fa">Degree Distribution</h3>
<div class="outline-text-3" id="text-orgc9883fa"></div>
<div class="outline-4" id="outline-container-org21dcbb9">
<h4 id="org21dcbb9">Total Degrees</h4>
<div class="outline-text-4" id="text-org21dcbb9">
<div class="highlight">
<pre><span></span>degree_sequence = sorted((degree for node, degree in friendship_graph.degree()))
degree_counts = Counter(degree_sequence)
degrees, counts = zip(*degree_counts.items())
</pre></div>
<div class="highlight">
<pre><span></span>table = holoviews.Table({"Degrees": degrees, "Count": counts}, ["Degrees"], ["Count"])
plot = table.to.bars(kdims=["Degrees"], vdims=["Count"]).opts(
    width=Plot.width,
    height=Plot.height,
    fontsize=Plot.fontsize,
    title="Degree Distribution",
    tools=["hover"],
)
Embed(plot=plot, file_name="degree_distribution")()
</pre></div>
<object data="degree_distribution.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object></div>
</div>
<div class="outline-4" id="outline-container-org2df1c5f">
<h4 id="org2df1c5f">In-Degree Distribution</h4>
<div class="outline-text-4" id="text-org2df1c5f">
<div class="highlight">
<pre><span></span>in_degree_sequence = sorted((degree for node, degree in friendship_graph.in_degree))
in_degree_counts = Counter(in_degree_sequence)
in_degrees, in_counts = zip(*in_degree_counts.items())

in_data = pandas.DataFrame.from_dict({"Degrees": in_degrees, "Count": in_counts})
in_data["Direction"] = "in"

plot = in_data.hvplot.bar(x="Degrees", y="Count").opts(
    width=Plot.width,
    height=Plot.height,
    fontsize=Plot.fontsize,
    title="In-Degree Distribution",
    tools=["hover"],
)
Embed(plot=plot, file_name="in_degree_distribution")()
</pre></div>
<object data="in_degree_distribution.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p>The in-degree represents the number of times a student (the node) was identified by someone else as a friend. Three people weren't identified as friends at all and the most common count was 2, although someone was identified 15 times.</p>
</div>
</div>
<div class="outline-4" id="outline-container-orgb5473b1">
<h4 id="orgb5473b1">Out-Degree Distribution</h4>
<div class="outline-text-4" id="text-orgb5473b1">
<div class="highlight">
<pre><span></span>out_degree_sequence = sorted((degree for node, degree in friendship_graph.out_degree))
out_degree_counts = Counter(out_degree_sequence)
out_degrees, out_counts = zip(*out_degree_counts.items())

out_data = pandas.DataFrame.from_dict({"Degrees": out_degrees, "Count": out_counts})
out_data["Direction"] = "out"
# table = holoviews.Table(, ["Degrees"], ["Count"])
plot = out_data.hvplot.bar(x="Degrees", y="Count").opts(
    width=Plot.width,
    height=Plot.height,
    fontsize=Plot.fontsize,
    title="Out-Degree Distribution",
    tools=["hover"],
)
Embed(plot=plot, file_name="out_degree_distribution")()
</pre></div>
<object data="out_degree_distribution.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<p>The out-degree is the number of other students a student identified as a friend.</p>
</div>
</div>
<div class="outline-4" id="outline-container-orgad7527d">
<h4 id="orgad7527d">In-and-Out Degree</h4>
<div class="outline-text-4" id="text-orgad7527d">
<div class="highlight">
<pre><span></span>in_out = pandas.concat([in_data, 
                        out_data]).sort_values(by="Degrees")
plot = in_out.hvplot.bar(x="Degrees", y="Count", by="Direction").opts(
    width=Plot.width,
    height=Plot.height,
    fontsize=Plot.fontsize,
    title="In and Out-Degree Distribution",
    tools=["hover"],
)
Embed(plot=plot, file_name="in_and_out_degree_distribution")()
</pre></div>
<object data="in_and_out_degree_distribution.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object>
<div class="highlight">
<pre><span></span>for node in friendship_graph.nodes:
    friendship_graph.nodes[node]["In-Degree"] = friendship_graph.in_degree[node]
    friendship_graph.nodes[node]["Out-Degree"] = friendship_graph.out_degree[node]
</pre></div>
<div class="highlight">
<pre><span></span>plot = holoviews.Graph.from_networkx(friendship_graph, networkx.spring_layout)
plot = plot.opts(
    node_color=dim("gender"), cmap="Set1",
    tools=["hover"],
    width=800,
    height=800,
#    edge_line_color="In-Degree",
    edge_cmap="viridis",
#    edge_line_width=holoviews.dim("In-Degree"),
    title="Friendship Network In-Degrees By Gender",
    xaxis=None, yaxis=None, directed=True)
Embed(plot=plot, file_name="friendship_network_in_degree_gender_spring", height_in_pixels=810)()
</pre></div>
<object data="friendship_network_in_degree_gender_spring.html" height="810" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object></div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org9a6618c">
<h2 id="org9a6618c">The Return</h2>
<div class="outline-text-2" id="text-org9a6618c"></div>
<div class="outline-3" id="outline-container-org74c80ba">
<h3 id="org74c80ba">Citations</h3>
<div class="outline-text-3" id="text-org74c80ba">
<ul class="org-ul">
<li>R. Mastrandrea, J. Fournet, A. Barrat,</li>
</ul>
<p>Contact patterns in a high school: a comparison between data collected using wearable sensors, contact diaries and friendship surveys. PLoS ONE 10(9): e0136497 (2015)</p>
</div>
</div>
</div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../../categories/exploration/" rel="tag">exploration</a></li>
<li><a class="tag p-category" href="../../../categories/networks/" rel="tag">networks</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../network-datasets/" rel="prev" title="Network Datasets">Previous post</a></li>
<li class="next"><a href="../high-school-facebook-networks/" rel="next" title="High School Facebook Networks">Next post</a></li>
</ul>
</nav>
</aside>
</article>
<!--End of body content-->
<footer id="footer">Contents Â© 2019 <a href="mailto:necromuralist@protonmail.com">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a></footer>
</div>
</div>
<script src="../../../assets/js/all-nocdn.js">
</script>
<script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
</script>
</body>
</html>
